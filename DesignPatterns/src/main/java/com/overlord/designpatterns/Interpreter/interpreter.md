# JAVA设计模式之解释器模式

**概念**

     解释器模式（Interpreter Pattern）是一种按照规定语法对表达式进行解析的方案，在项目中使用较少。
     解释器模式包含以下主要角色。
     1.抽象表达式（Abstract Expression）角色：定义解释器的接口，约定解释器的解释操作，主要包含解释方法 interpret()。
     2.终结符表达式（Terminal    Expression）角色：是抽象表达式的子类，用来实现文法中与终结符相关的操作，
     文法中的每一个终结符都有一个具体终结表达式与之相对应。
     3.非终结符表达式（Nonterminal Expression）角色：也是抽象表达式的子类，用来实现文法中与非终结符相关的操作，
     文法中的每条规则都对应于一个非终结符表达式。
     4.环境（Context）角色：通常包含各个解释器需要的数据或是公共的功能，一般用来传递被所有解释器共享的数据，
     后面的解释器可以从这里获取这些值。
     5.客户端（Client）：主要任务是将需要分析的句子或表达式转换成使用解释器对象描述的抽象语法树，
     然后调用解释器的解释方法，当然也可以通过环境角色间接访问解释器的解释方法。

**应用场景**

    1.重复发生的问题可以使用解释器模式。例如，多个应用服务器，每天产生大量的日志，需要对日志文件进行分析处理，
    由于各个服务器的日志格式不同，但数据要素是相同的，按照解释器的说法就是终结符表达式都是相同的，非终结符表达式
    就需要定制。
    2.一个简单语法需要解释的场景
    
**优点**

    1.扩展性好。由于在解释器模式中使用类来表示语言的文法规则，因此可以通过继承等机制来改变或扩展文法。
    2.容易实现。在语法树中的每个表达式节点类都是相似的，所以实现其文法较为容易。

**缺点**

    1.执行效率较低。解释器模式中通常使用大量的循环和递归调用，当要解释的句子较复杂时，其运行速度很慢，且代码的调试过程也比较麻烦。
    2.会引起类膨胀。解释器模式中的每条规则至少需要定义一个类，当包含的文法规则很多时，类的个数将急剧增加，导致系统难以管理与维护。
    3.可应用的场景比较少。在软件开发中，需要定义语言文法的应用实例非常少，所以这种模式很少被使用到。
